<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thống Kê</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

    <script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/dataTables.bootstrap5.min.js"></script>
    <link href="https://cdn.datatables.net/1.13.2/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.2/js/toastr.min.js"></script>
    <link rel="stylesheet" href="/Css/style.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/main.js"></script>
    <script src="js/thongke.js"></script>
    <script>
        window.onload = function() {
            thongke();
            revenueYear(new Date().getFullYear());
            danhMucBan();
        }
    </script>
</head>
<body>
    <div class="d-flex">
        <!-- Sidebar -->
        <div class="sidebar" id="menuadmin">
        </div>

        <!-- Main Content -->
        <div class="container-fluid p-4">
            <div class="card mb-2">
                <div class="card-header bg-primary text-white">
                    <h3 style ="margin: 10px 0px">THỐNG KÊ</h3>
                </div>
            </div>
            <!-- Thống kê tổng quan -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="card bg-primary text-white">
                        <div class="card-body">
                            <h5 class="card-title">Doanh thu tháng này</h5>
                            <h3 class="mb-0" id="doanhThu">0đ</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card bg-success text-white">
                        <div class="card-body">
                            <h5 class="card-title">Đơn hàng hôm nay</h5>
                            <h3 class="mb-0" id="donhomnay">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card bg-primary text-white">
                        <div class="card-body">
                            <h5 class="card-title">Số lượng user</h5>
                            <h3 class="mb-0" id="soLuongNV"></h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card bg-info text-white">
                        <div class="card-body">
                            <h5 class="card-title">Số lượng sản phẩm</h5>
                            <h3 class="mb-0" id="soLuongMH">0</h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Biểu đồ -->
            <div class="row">
                <div class="col-md-8">
                    <div class="card mb-4">
                        <div class="card-header">
                            <strong>Biểu đồ doanh thu</strong>
                            <select id="nams" onchange="loadByNam()" class="form-controls">
                                <option id="2025">2025</option>
                                <option id="2026">2026</option>
                                <option id="2027">2027</option>
                                <option id="2028">2028</option>
                                <option id="2029">2029</option>
                                <option id="2030">2030</option>
                            </select>
                        </div>
                        <div class="card-body" id="chartdiv">
                            <canvas id="chart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card mb-4">
                        <div class="card-header">
                            <strong>Top sản phẩm bán chạy</strong>
                        </div>
                        <div class="card-body">
                            <canvas id="productChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>

        // Biểu đồ sản phẩm
        // const productChart = new Chart(document.getElementById('productChart'), {
        //     type: 'doughnut',
        //     data: {
        //         labels: ['Túi xách', 'Ví', 'Balo', 'Khác'],
        //         datasets: [{
        //             data: [45, 25, 20, 10],
        //             backgroundColor: [
        //                 'rgb(255, 99, 132)',
        //                 'rgb(54, 162, 235)',
        //                 'rgb(255, 205, 86)',
        //                 'rgb(75, 192, 192)'
        //             ]
        //         }]
        //     }
        // });
    </script>
</body>
</html> 